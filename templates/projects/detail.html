{% extends 'post_login_base/base.html' %}

{% block title %}{{ project.title }}{% endblock title %}

{% block content %}
<div class="container" style="width: 1024px;" >
    {% if project.image %}
        <img class="image-container" style="transform: scale() !important;" src="{{ project.image.url }}">
    {% endif %}
    <div class="project-background " style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); ">
        <div class="p-5 m-5 d-flex project-background justify-content-between align-items-stretch rounded" style="width: 1000px; height: 500px;">
            <div class="bg-transparent mt-5" style=" width: 200px; height: 200px ">
                <strong class="font-weight-bold bg-transparent"> {{ project.title }} </strong>
                <div class="p-2 bg-transparent">
                    {{ project.description }}
                </div>
            </div>
        
            <div class="bg-transparent">
                <h4 class="bg-transparent font-weight-bold text-white justify-content-between mb-1">Tasks</h4>
                <ul class="list-group bg-transparent ">
                    {% for task in project.tasks.all %}
                        <li class="list-group-item mb-3 project-background"> 
                            <form class="project-background" action="{% url 'projects:mark_complete' task.slug task.date_created.year task.date_created.month task.date_created.day %}" method="post">
                                {% csrf_token %}
                                <input class="form-check-input project-background" type="checkbox" id="task-{{ task.id }}" name="task-{{ task.id }}" {% if task.status == 'c' %}checked{% endif %} onclick="this.form.submit()">
                                <label class="form-check-label project-background" for="task-{{ task.id }}">{{ task.description }} ({{ task.date_due }})</label>
                            </form>
                            <a href="{% url 'projects:edit_task' task.slug task.date_created.year task.date_created.month task.date_created.day %}" class="btn btn-primary">Edit</a>
                            <a href="{% url 'projects:delete_task' task.slug task.date_created.year task.date_created.month task.date_created.day %}" class="btn btn-danger">Delete</a>
                        </li>
                    {% endfor %}
                </ul>
                <a href="{% url 'projects:create_task' project.slug project.date_created.year project.date_created.month project.date_created.day %}" class="btn btn-success">Add Tasks</a>
            </div>
        </div>
    </div>
</div>

{% endblock content %}
